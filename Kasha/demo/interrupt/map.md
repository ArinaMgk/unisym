# MAP

Author: Doshou Haruno (dosconyo@gmail.com)

Origin: Arina's `redesign20230227.md`

<table border="1px" cellspacing="0" cellpadding="0" width="479">
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*164 </p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">LDTE:S3</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*160</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*156</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">LDTE:S2</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*152</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*148</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">LDTE:S1</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*144</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*140</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">LDTE:S0</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*136</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*132</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">LDTE:Ronl</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="76" nowrap><p align="right">&nbsp;</p></td>
    <td width="57" nowrap><p align="right">&nbsp;</p></td>
    <td width="95" nowrap><p align="right">&nbsp;</p></td>
    <td width="39" nowrap><p align="left">*128</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">124</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">LDTE:Data　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">120</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">116</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">LDTE:Code　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">112</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">108</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">LDTE:Header　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">　 </p></td>
    <td width="39" nowrap><p align="left">104</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">IOMap:103 </p></td>
    <td width="85" nowrap><p align="right">STRC[15,T]</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">103</p></td>
    <td width="95" nowrap><p align="right">STRC[15,T]</p></td>
    <td width="39" nowrap><p align="left">100</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">#LDTLen</p></td>
    <td width="85" nowrap><p align="right">LDTSel</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">0</p></td>
    <td width="39" nowrap><p align="left">96</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">&nbsp;</p></td>
    <td width="85" nowrap><p align="right">GS:RONL</p></td>
    <td width="132" nowrap colspan="2"><p align="right">ConstStart</p></td>
    <td width="57" nowrap><p align="right">0</p></td>
    <td width="95" nowrap><p align="right">GS</p></td>
    <td width="39" nowrap><p align="left">92</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">FS:ROUT3</p></td>
    <td width="132" nowrap colspan="2"><p align="right">ConstLen(0:!Exist)</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">FS</p></td>
    <td width="39" nowrap><p align="left">88</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">DS:DATA</p></td>
    <td width="132" nowrap colspan="2"><p align="right">DataStart</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">DS</p></td>
    <td width="39" nowrap><p align="left">84</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">SS:STAK3</p></td>
    <td width="132" nowrap colspan="2"><p align="right">DataLen(0:!Exist)</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">SS</p></td>
    <td width="39" nowrap><p align="left">80</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">CS:CODE</p></td>
    <td width="132" nowrap colspan="2"><p align="right">CodeStart</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">CS</p></td>
    <td width="39" nowrap><p align="left">76</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">　 </p></td>
    <td width="85" nowrap><p align="right">ES:HEADER</p></td>
    <td width="132" nowrap colspan="2"><p align="right">CodeLen&gt;0</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">ES</p></td>
    <td width="39" nowrap><p align="left">72</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EDI</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EDI</p></td>
    <td width="39" nowrap><p align="left">68</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ESI</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">ESI</p></td>
    <td width="39" nowrap><p align="left">64</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EBP</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EBP</p></td>
    <td width="39" nowrap><p align="left">60</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ESP</p></td>
    <td width="132" nowrap colspan="2"><p align="right">StakLen</p></td>
    <td width="151" nowrap colspan="2"><p align="right">ESP</p></td>
    <td width="39" nowrap><p align="left">56</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EBX</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EBX</p></td>
    <td width="39" nowrap><p align="left">52</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EDX</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EDX</p></td>
    <td width="39" nowrap><p align="left">48</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ECX</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">ECX</p></td>
    <td width="39" nowrap><p align="left">44</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EAX</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EAX</p></td>
    <td width="39" nowrap><p align="left">40</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EFLAGS</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">EFLAGS</p></td>
    <td width="39" nowrap><p align="left">36</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">EIP</p></td>
    <td width="132" nowrap colspan="2"><p align="right">Entry=EIP</p></td>
    <td width="151" nowrap colspan="2"><p align="right">EIP</p></td>
    <td width="39" nowrap><p align="left">32</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">PDBR</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">PDBR</p></td>
    <td width="39" nowrap><p align="left">28</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">AdrPointerH</p></td>
    <td width="85" nowrap><p align="right">SS2</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">SS2</p></td>
    <td width="39" nowrap><p align="left">24</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ESP2</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">ESP2</p></td>
    <td width="39" nowrap><p align="left">20</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">AdrPointerL</p></td>
    <td width="85" nowrap><p align="right">SS1</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">SS1</p></td>
    <td width="39" nowrap><p align="left">16</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ESP1</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">ESP1</p></td>
    <td width="39" nowrap><p align="left">12</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">TIMES　 </p></td>
    <td width="85" nowrap><p align="right">SS0</p></td>
    <td width="57" nowrap><p align="right">0x32DE</p></td>
    <td width="76" nowrap><p align="right">Ring</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">SS0</p></td>
    <td width="39" nowrap><p align="left">8</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="right">ESP0</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="76" nowrap><p align="right">　 </p></td>
    <td width="151" nowrap colspan="2"><p align="right">ESP0</p></td>
    <td width="39" nowrap><p align="left">4</p></td>
  </tr>
  <tr>
    <td width="71" nowrap><p align="right">CrtSubapp</p></td>
    <td width="85" nowrap><p align="right">LastTSS</p></td>
    <td width="132" nowrap colspan="2"><p align="right">LenToLoad</p></td>
    <td width="57" nowrap><p align="right">　 </p></td>
    <td width="95" nowrap><p align="right">0</p></td>
    <td width="39" nowrap><p align="left">0</p></td>
  </tr>
  <tr>
    <td width="156" nowrap colspan="2"><p align="center">LOADED:256</p></td>
    <td width="132" nowrap colspan="2"><p align="center">TOLOAD</p></td>
    <td width="151" nowrap colspan="2"><p align="center">KERNEL</p></td>
    <td width="39" nowrap></td>
  </tr>
</table>

TIMES: even for available and odd for busy. the number is added by 2 each executed.

If length of a Code/Data segment is greater than 0x1_00000, the real length will be the times of 4K.

{TODO} Make UNISYM/ASM suitable for Flat Mode.



```
[DemoInt&Exc] (by ArinaRFQ23)
-PhyzikAddress (4M)-   LinearAddress     - (Size) Detail
 00000000~00000AAA -01 IVT
 00001000~00004FFF -04 80001000~80004FFF - (16K) Kernel
 00005000~00005FFF -01 FFFFF000~FFFFFFFF - (1P) GlobalPageDirectoryTable
 00006000~00006FFF -01 80006000~80006FFF - Stack32
 00007000~0000707F -00 80007000~8000707F - (128) Kernel TSS
 00007080~00007FFF -01 80007080~80007FFF - (8*496) GDT
 00008000~00008FFF -01 80008000~80008FFF - (1P) PT for 0x80000000
 00009000~00009FFF -01 80009000~80009FFF - (1P) PT for 0x00000000 for APP
 0000A000~0007FFFF -78 80009000~8007FFFF - Kernel Area
 00080000~0009FFFF -20 80080000~8009FFFF - (128K) PageAllocatingBitmap
 000A0000~000FFFFF -60 #BIOS Reflect
>000B8000~000B9000 -01 800B8000~800B9000 - (1P) Video Display Buffer 80*25
 00100000~00400000 300 00000000~00300000 - (3M) User Area
>00100000~00100080 -00 00000000~00000080 - (128) ArnHeaderCompatibleWithTSS
[Bitmap]
FF C0 00 00-00 00 00 00=00 00 00 00-00 00 00 00
FF FF FF FF-FF FF FF FF=FF FF FF FF-FF FF FF FF
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
00 00 00 00-00 00 00 00=00 00 00 00-00 00 00 00
FF FF FF FF...
```
